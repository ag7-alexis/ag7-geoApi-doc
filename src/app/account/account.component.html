<ng-container *ngIf="isLoad != 1">
  <div class="d-flex justify-content-center">
    <div class="spinner-border text-primary" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</ng-container>

<div class="container" *ngIf="isLoad == 1">
  <div class="card w-100 mt-4">
    <div class="card-header text-center">
      <span class="h3">Informations utilisateur</span>
    </div>
    <div class="card-body">
      <div class="form-group">
        <label for="username">Username</label>
        <input id="username" disabled class="form-control" value="{{this.tokenService.getUser()}}">
      </div>
      <ng-container *ngIf="this.UserInfo.update == true">
        <div class="card text-success border-success mb-1">
          <div class="card-body">
            <span class="card-title h5"><i class="fa fa-warning mr-1"></i>Votre clé a été mise à jour</span>
            <p class="card-text">Une nouvelle clé vous a été attribut, il faudra penser a la modifier dans vos projets.
            </p>
          </div>
        </div>
      </ng-container>
      <div class="form-group">
        <label for="dateExpi">Expiration de la clé</label>
        <input id="dateExpi" disabled class="form-control" type="date"
          value="{{this.UserInfo.dateEndToken | date:'yyyy-MM-dd'}}">
      </div>

      <div class="form-group">
        <label for="apiKey">Votre clé</label>
        <div class="row">
          <div class="col-10 pr-0 mr-0"><input id="apiKey" disabled class="form-control"
              [(ngModel)]="this.UserInfo.token"></div>
          <div class="col-2 pl-0 ml-0"><a class="btn btn-success px-0"
              [cdkCopyToClipboard]="this.UserInfo.token">Copier</a></div>
        </div>
      </div>

    </div>
  </div>

  <div class="card w-100 my-4">
    <div class="card-header text-center">
      <span class="h3">Utilisation de votre clé</span>
    </div>
    <div class="card-body">
      <p>
        Afin de pouvoir faire vos requêtes vers l'API, il vous faudra indiquer votre clé dans la requête afin que l'API
        vous envoie le résultat de votre requête en réponse.
      </p>
      <p>
        Pour ajouter la clé à votre requête, il vous faudra donc modifier le "header" de votre requête en y ajoutant un
        champ "Authorization". À ce nouveau champ il vous suffira d'y passer votre clé en "value" afin que l'API puisse
        trouver votre clé et la lire.
      </p>
    </div>
  </div>

</div>
